{"ast":null,"code":"import _classCallCheck from \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/src/pages/Feed/SinglePost/SinglePost.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport Image from \"components/Image/Image\";\nimport \"./SinglePost.css\";\nvar SinglePost = /*#__PURE__*/function (_Component) {\n  _inherits(SinglePost, _Component);\n  var _super = _createSuper(SinglePost);\n  function SinglePost() {\n    var _this;\n    _classCallCheck(this, SinglePost);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      title: \"\",\n      author: \"\",\n      date: \"\",\n      image: \"\",\n      content: \"\"\n    };\n    return _this;\n  }\n  _createClass(SinglePost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var postId = this.props.match.params.postId;\n      fetch(\"http://localhost:8080/feed/post/\" + postId, {\n        headers: {\n          Authorization: \"Bearer \" + this.props.token\n        }\n      }).then(function (res) {\n        if (res.status !== 200) {\n          throw new Error(\"Failed to fetch status\");\n        }\n        return res.json();\n      }).then(function (resData) {\n        _this2.setState({\n          title: resData.post.title,\n          author: resData.post.creator.name,\n          image: \"http://localhost:8080/\" + resData.post.imageUrl,\n          date: new Date(resData.post.createdAt).toLocaleDateString(\"en-US\"),\n          content: resData.post.content\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"single-post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, this.state.title), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }, \"Created by \", this.state.author, \" on \", this.state.date), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"single-post__image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        contain: true,\n        imageUrl: this.state.image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, this.state.content));\n    }\n  }]);\n  return SinglePost;\n}(Component);\nexport default SinglePost;","map":{"version":3,"names":["React","Component","Image","SinglePost","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","title","author","date","image","content","_createClass","key","value","componentDidMount","_this2","postId","props","match","params","fetch","headers","Authorization","token","then","res","status","Error","json","resData","setState","post","creator","name","imageUrl","Date","createdAt","toLocaleDateString","catch","err","console","log","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","contain"],"sources":["/Users/shohbozrahmonov/Documents/Projects/Playground/front-nodejs-rest-api/src/pages/Feed/SinglePost/SinglePost.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport Image from \"components/Image/Image\";\nimport \"./SinglePost.css\";\n\nclass SinglePost extends Component {\n  state = {\n    title: \"\",\n    author: \"\",\n    date: \"\",\n    image: \"\",\n    content: \"\"\n  };\n\n  componentDidMount() {\n    const postId = this.props.match.params.postId;\n    fetch(\"http://localhost:8080/feed/post/\" + postId, {\n      headers: { Authorization: \"Bearer \" + this.props.token }\n    })\n      .then(res => {\n        if (res.status !== 200) {\n          throw new Error(\"Failed to fetch status\");\n        }\n        return res.json();\n      })\n      .then(resData => {\n        this.setState({\n          title: resData.post.title,\n          author: resData.post.creator.name,\n          image: \"http://localhost:8080/\" + resData.post.imageUrl,\n          date: new Date(resData.post.createdAt).toLocaleDateString(\"en-US\"),\n          content: resData.post.content\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <section className=\"single-post\">\n        <h1>{this.state.title}</h1>\n        <h2>\n          Created by {this.state.author} on {this.state.date}\n        </h2>\n        <div className=\"single-post__image\">\n          <Image contain imageUrl={this.state.image} />\n        </div>\n        <p>{this.state.content}</p>\n      </section>\n    );\n  }\n}\n\nexport default SinglePost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}